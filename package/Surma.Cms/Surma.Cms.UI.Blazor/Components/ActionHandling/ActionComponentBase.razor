@inherits OwningComponentBase
@implements IDisposable
@typeparam TComponent

@code {
    [CascadingParameter]
    private ActionContext? ParentActionContext { get; set; }
    
    public ActionContext ActionContext { get; set; } = ActionContext.Empty;
    
    protected override void OnInitialized()
    {
        ActionContext = ParentActionContext ?? new ActionContext();

        base.OnInitialized();
    }

    protected async Task<TResult> ActionAsync<TResult>(Func<Task<TResult>> func)
    {
        try
        {           
            var result = await func();
            return result;
        }
        catch (Exception e)
        {
            Console.WriteLine(e);
            throw;
        }
    }

    protected override void Dispose(bool disposing)
    {
        if (disposing)
        {
        }
        
        base.Dispose(disposing);
    }
}   